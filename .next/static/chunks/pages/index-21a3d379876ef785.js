(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{3685:function(e,i,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(1878)}])},1878:function(e,i,t){"use strict";t.r(i),t.d(i,{default:function(){return d}});var n=t(5893),s=t(2212),r=t(7294),o=t(6063),a=t(831);function d(){return(0,r.useEffect)((function(){var e=new o.default("myThreeJsCanvas");e.initScene(),e.animate();var i=new a.default;e.scene.add(i.board);var t=new s.FM8,n=new s.iMs;window.addEventListener("mousedown",(function(s){t.x=s.clientX/window.innerWidth*2-1,t.y=-s.clientY/window.innerHeight*2+1,n.setFromCamera(t,e.camera);var r=n.intersectObjects(i.hiddenTiles.children);if(console.log(r),r.length>0){var o=r[0].object.position.x,a=r[0].object.position.y;i.addCrossOrCircle(o,a),i.checkWinConditions();var d=i.hiddenTiles.children.findIndex((function(e){return e.uuid===r[0].object.uuid}));i.hiddenTiles.children.splice(d,1)}}),!1);var r=function(e){e.scale.x<1&&(e.scale.x+=.04),e.scale.y<1&&(e.scale.y+=.04),e.scale.z<1&&(e.scale.z+=.04)},d=function(){i.boardLines.children.forEach(r),i.circles.children.forEach(r),i.crosses.children.forEach(r),i.winLine.children.forEach(r),requestAnimationFrame(d)};d()})),(0,n.jsx)("div",{className:"flex flex-col items-center justify-center ",children:(0,n.jsx)("canvas",{id:"myThreeJsCanvas"})})}},6063:function(e,i,t){"use strict";t.r(i),t.d(i,{default:function(){return o}});var n=t(2212),s=t(9365);t(5079);function r(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(i,t,n,s,r,o,a){var d=void 0===a?36:a;!function(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this,e),this.fov=d,this.scene=n,this.stats=s,this.camera=t,this.controls=r,this.renderer=o,this.canvasID=i}var i,t,o;return i=e,(t=[{key:"initScene",value:function(){var e=this;this.camera=new n.cPb(this.fov,window.innerWidth/window.innerHeight,1,1e3),this.camera.position.z=128,this.scene=new n.xsS;var i=document.getElementById(this.canvasID);this.renderer=new n.CP7({canvas:i,antialias:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(this.renderer.domElement),this.controls=new s.z(this.camera,this.renderer.domElement),window.addEventListener("resize",(function(){return e.onWindowResize()}),!1)}},{key:"animate",value:function(){window.requestAnimationFrame(this.animate.bind(this)),this.render(),this.controls.update()}},{key:"render",value:function(){this.renderer.render(this.scene,this.camera)}},{key:"onWindowResize",value:function(){this.camera.aspect=this.splitScreen.clientWidth/this.splitScreen.clientHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.splitScreen.clientWidth,this.splitScreen.clientHeight)}}])&&r(i.prototype,t),o&&r(i,o),e}()},831:function(e,i,t){"use strict";t.r(i),t.d(i,{default:function(){return r}});var n=t(2212);function s(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=function(){function e(){!function(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this,e),this.board=new n.ZAu,this.circles=new n.ZAu,this.crosses=new n.ZAu,this.winLine=new n.ZAu,this.boardLines=new n.ZAu,this.hiddenTiles=new n.ZAu,this.board.add(this.circles),this.board.add(this.crosses),this.board.add(this.winLine),this.board.add(this.boardLines),this.board.add(this.hiddenTiles),this.currentPlayer="o",this.boardCopy=[["1","2","3"],["4","5","6"],["7","8","9"]],this._createBoard()}var i,t,r;return i=e,(t=[{key:"_createBoard",value:function(){this.boardLines.add(this._boardLine(4,64,4,-12,0)),this.boardLines.add(this._boardLine(4,64,4,12,0)),this.boardLines.add(this._boardLine(64,4,4,0,-12)),this.boardLines.add(this._boardLine(64,4,4,0,12)),this.hiddenTiles.add(this._hiddenTile(-24,24)),this.hiddenTiles.add(this._hiddenTile(0,24)),this.hiddenTiles.add(this._hiddenTile(24,24)),this.hiddenTiles.add(this._hiddenTile(-24,0)),this.hiddenTiles.add(this._hiddenTile(0,0)),this.hiddenTiles.add(this._hiddenTile(24,0)),this.hiddenTiles.add(this._hiddenTile(-24,-24)),this.hiddenTiles.add(this._hiddenTile(0,-24)),this.hiddenTiles.add(this._hiddenTile(24,-24))}},{key:"_boardLine",value:function(e,i,t,s,r){var o=new n.DvJ(e,i,t),a=new n.RSm,d=new n.Kj0(o,a);return d.position.x=s,d.position.y=r,d.scale.x=0,d.scale.y=0,d.scale.z=0,d}},{key:"_hiddenTile",value:function(e,i){var t=new n.DvJ(12,12,1),s=new n.RSm,r=new n.Kj0(t,s);return r.position.x=e,r.position.y=i,r}},{key:"_updateBoardCopy",value:function(e,i){var t,n;n=e<0?0:0===e?1:2,t=i<0?2:0===i?1:0,"o"===this.currentPlayer?this.boardCopy[t][n]="o":this.boardCopy[t][n]="x",console.log(this.boardCopy)}},{key:"checkWinConditions",value:function(){for(var e,i=0;i<3;i++)this._checkRowWin(i)&&((e=this._getStrike(64,2,4)).position.y=this._getOffsetY(i),this.winLine.add(e)),this._checkColumnWin(i)&&((e=this._getStrike(2,64,4)).position.x=this._getOffsetX(i),this.winLine.add(e));this._topLeftToBottomRightWin()&&((e=this._getStrike(90,2,4)).rotation.z=-Math.PI/4,this.winLine.add(e)),this._bottomLeftToTopRightWin()&&((e=this._getStrike(90,2,4)).rotation.z=Math.PI/4,this.winLine.add(e))}},{key:"_getStrike",value:function(e,i,t){var s=new n.DvJ(e,i,t),r=new n.RSm,o=new n.Kj0(s,r);return o.scale.x=0,o.scale.y=0,o.scale.z=0,o}},{key:"_checkRowWin",value:function(e){return this.boardCopy[e][0]===this.boardCopy[e][1]&&this.boardCopy[e][1]===this.boardCopy[e][2]}},{key:"_checkColumnWin",value:function(e){return this.boardCopy[0][e]===this.boardCopy[1][e]&&this.boardCopy[1][e]===this.boardCopy[2][e]}},{key:"_topLeftToBottomRightWin",value:function(){return this.boardCopy[0][0]===this.boardCopy[1][1]&&this.boardCopy[1][1]===this.boardCopy[2][2]}},{key:"_bottomLeftToTopRightWin",value:function(){return this.boardCopy[2][0]===this.boardCopy[1][1]&&this.boardCopy[1][1]===this.boardCopy[0][2]}},{key:"_getOffsetX",value:function(e){return 0===e?-24:1===e?0:24}},{key:"_getOffsetY",value:function(e){return 0===e?24:1===e?0:-24}},{key:"addCrossOrCircle",value:function(e,i){"x"===this.currentPlayer?(this._addCross(e,i),this._updateBoardCopy(e,i),this.currentPlayer="o"):(this._addCircle(e,i),this._updateBoardCopy(e,i),this.currentPlayer="x")}},{key:"_addCross",value:function(e,i){var t=new n.ZAu,s=new n.DvJ(12,4,4),r=new n.RSm,o=new n.Kj0(s,r),a=new n.Kj0(s,r);o.rotation.z=Math.PI/4,a.rotation.z=-Math.PI/4,t.add(o,a),t.position.x=e,t.position.y=i,t.scale.x=0,t.scale.y=0,t.scale.z=0,this.crosses.add(t)}},{key:"_addCircle",value:function(e,i){var t=new n.fHI(6,6,4,100),s=new n.RSm,r=new n.Kj0(t,s);r.position.x=e,r.position.y=i,r.rotation.x=Math.PI/2,r.scale.x=0,r.scale.y=0,r.scale.z=0,this.circles.add(r)}}])&&s(i.prototype,t),r&&s(i,r),e}()}},function(e){e.O(0,[774,737,595,888,179],(function(){return i=3685,e(e.s=i);var i}));var i=e.O();_N_E=i}]);